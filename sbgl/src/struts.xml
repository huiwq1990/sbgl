<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>
    <constant name="struts.action.extension" value="do,action,go"></constant>    
    <constant name="struts.objectFactory" value="org.apache.struts2.spring.StrutsSpringObjectFactory"></constant> 
    <constant name="struts.i18n.encoding"  value="UTF-8" />
    <constant name="struts.multipart.maxSize" value ="1073741824" />
    <constant name="struts.custom.i18n.resources" value ="messages" />
    
    <constant name="struts.velocity.toolboxlocation" value="WEB-INF/toolbox.xml" />
	<constant name="struts.velocity.configfile" value="WEB-INF/velocity.properties" />
	
	<package name="default" extends="struts-default">
   		<default-action-ref name="notFound"/>
  		<action name="notFound">
    		<result>/errorNotFound.vm</result>
   		</action>
	</package>

    <!-- 定义一个admin的总包余下包继承该包 -->  
	<package name="admin"  extends="struts-default">
	 <!-- 
		<result-types>    	
    		<result-type name="velocity" class="service.actions.remind.VelocityLayoutResult"  default="true"/>
   		</result-types>
   		
   		-->
        <!-- 定义一个拦截器 -->  
        <interceptors>  
           <interceptor name="myException"  class="com.sbgl.app.actions.common.ExceptionInterceptor"/>
           <!-- 拦截器栈 -->  
           <interceptor-stack name="mydefault">
           	   <interceptor-ref name="myException" />
               <interceptor-ref name="defaultStack" />  
           </interceptor-stack>
           <interceptor name="myinterceptor" class="com.sbgl.common.common.MyIntercepor">
            </interceptor> 
	    </interceptors>  
	    <default-interceptor-ref name="mydefault" />
	    <!-- 定义全局Result -->  
        <global-results>  
            <!-- 当返回login视图名时，转入/login.jsp页面 -->  
            <result name="login">/login.vm</result>  
            <result name="exception-error">/error.vm</result>
        </global-results>
        
        <global-exception-mappings>
            <exception-mapping result="exception-error" exception="java.lang.Exception"></exception-mapping>
        </global-exception-mappings>
        
        <action name="indexInfo">
        	<result>
        		/index-info.vm
        	</result>
        </action>
    </package>
    
    <package name="superManage" extends="struts-default">
    	<!-- 定义后台器材管理员拦截器 -->
    	<interceptors>  
           <interceptor name="superInterceptor" class="com.sbgl.app.actions.common.SuperIntercepor">
           </interceptor>
	    </interceptors> 
	    <default-interceptor-ref name="superInterceptor" />
    </package>
   
    <package name="equipManage" extends="json-default">
    	<!-- 定义后台器材管理员拦截器 -->
    	<interceptors>  
           <interceptor name="equipInterceptor" class="com.sbgl.app.actions.common.EquipIntercepor">
           </interceptor>
	    </interceptors> 
	    <default-interceptor-ref name="equipInterceptor" />
    </package>
    
    <package name="roomManage" extends="json-default">
    	<!-- 定义后台机房管理员拦截器 -->
    	<interceptors>  
           <interceptor name="roomInterceptor" class="com.sbgl.app.actions.common.RoomIntercepor">
           </interceptor>
	    </interceptors> 
	    <default-interceptor-ref name="roomInterceptor" />
    </package> 
    
    
    <!-- 根据不同的包引入自己的struts文件 -->
    <include file="com/sbgl/app/actions/*/struts_*.xml"/>
</struts>    
